# CANSAT EMISOR üöÄ  
NRFl01


## Monitoreo Ambiental con Sensores y Comunicaci√≥n Inal√°mbrica

Este proyecto utiliza sensores y m√≥dulos de comunicaci√≥n inal√°mbrica para recopilar datos ambientales (temperatura, presi√≥n, altitud y humedad) y transmitirlos de manera eficiente. La implementaci√≥n incluye la activaci√≥n de un pin digital en funci√≥n de cambios en la altitud, con notificaciones en caso de descenso.  

---

# ‚ö†Ô∏è **Precauci√≥n** ‚ö†Ô∏è  

El circuito debe ser energizado con **3.3V**, ya que tanto el sensor **BMP280** como el m√≥dulo **nRF24L01** tienen una alta probabilidad de da√±arse si se energizan con un voltaje mayor.  

Para alimentar todo el circuito de manera segura, se puede usar una bater√≠a de **3.7V** acompa√±ada de un regulador de voltaje adecuado para obtener los 3.3V requeridos.  

üëâ **Nota:** Aseg√∫rate de verificar las conexiones y los niveles de voltaje antes de energizar el circuito.  

## üìù **Descripci√≥n del Proyecto**  

El sistema integra los siguientes componentes:  

1. **Sensor DHT11**: Para medir la humedad relativa del ambiente.  
2. **Sensor BMP280**: Para obtener datos de temperatura, presi√≥n atmosf√©rica y altitud.  
3. **M√≥dulo RF24**: Para transmitir los datos recopilados a otro dispositivo mediante comunicaci√≥n inal√°mbrica.  

Adem√°s, el proyecto cuenta con un mecanismo que detecta cambios en la altitud m√°xima alcanzada y activa/desactiva un pin digital como respuesta.  

---
## üìù **Diagrama electronico**  
![diagrama cansat](https://github.com/user-attachments/assets/a1aa45de-5a73-4d1d-ba18-ff72bd92f186)
En donde:

A1= Arduino Nano.

![nano](https://github.com/user-attachments/assets/a5ae518b-7f34-4086-98e2-f9b97b801249)


U1= Es el modulo de comunicacion NRF24l01.

![Rf](https://github.com/user-attachments/assets/b813a95f-a3b0-462d-b19d-cb16d41a7621)

U2= Es un sensor DHT11.

![DHT11](https://github.com/user-attachments/assets/7ab375e9-dfb1-4cf1-b39a-dbe3e5556c67)

J4= Representa el sensor BMP280 para la conexion electronica.


![bmp280](https://github.com/user-attachments/assets/d03ecbb5-0734-4dd8-b53a-986d7a76c404)

## üìÇ **Estructura del C√≥digo**  

### **Librer√≠as Importadas**  
- `Wire.h` y `Adafruit_Sensor.h` para comunicaci√≥n I2C y manejo del sensor BMP280.  
- `Adafruit_BMP280.h` para funciones espec√≠ficas del sensor BMP280.  
- `SPI.h` y `nRF24L01.h` para comunicaci√≥n con el m√≥dulo RF24.  
- `DHT.h` para la gesti√≥n del sensor DHT11.  

### **Variables Principales**  
- **Sensores**:  
  - BMP280: Mide temperatura, presi√≥n y altitud.  
  - DHT11: Mide humedad relativa.  
- **Comunicaci√≥n RF24**:  
  - Direcci√≥n: `"00001"`.  
  - Configuraci√≥n m√≠nima de potencia para transmisi√≥n.  
- **Control**:  
  - `ALTITUD_MAXIMA`: Variable para registrar la mayor altitud alcanzada.  
  - Pin `D2`: Controla la salida digital seg√∫n las condiciones de descenso.  

---

## üöÄ **Flujo de Ejecuci√≥n**  

### **1. Inicializaci√≥n**  
- Los sensores BMP280 y DHT11 son inicializados y validados para garantizar su correcto funcionamiento.  
- El m√≥dulo RF24 es configurado y preparado para transmitir datos.  

### **2. Bucle Principal (`loop`)**  
- **Lectura de Datos**:  
  - Se obtiene la temperatura, presi√≥n, altitud y humedad del entorno.  
- **Detecci√≥n de Altitud**:  
  - Se registra la mayor altitud alcanzada.  
  - Si el dispositivo desciende m√°s de 1 metro desde la altitud m√°xima:  
    - Se apaga el pin `D2`.  
    - Se env√≠an 10 mensajes de alerta (`"ha caido!"`) mediante RF24.  
  - En caso contrario, el pin `D2` permanece encendido.  
- **Transmisi√≥n de Datos**:  
  - Los datos recopilados son enviados como un paquete (temperatura, presi√≥n, altitud, humedad) al dispositivo receptor.  

---

## üõ†Ô∏è **Requisitos**  

1. **Hardware**:  
   - Sensor BMP280.  
   - Sensor DHT11.  
   - M√≥dulo nRF24L01.  
   - Microcontrolador compatible con Arduino.  
2. **Software**:  
   - Arduino IDE.  
   - Librer√≠as necesarias:  
     - `Adafruit_BMP280`  
     - `DHT`  
     - `RF24`  

---

## üí° **Caracter√≠sticas Principales**  

1. **Medici√≥n Ambiental**:  
   - Temperatura en grados Celsius.  
   - Presi√≥n en hectopascales (hPa).  
   - Altitud relativa en metros.  
   - Humedad relativa en porcentaje (%).  
2. **Detecci√≥n de Descensos**:  
   - Activaci√≥n de alertas cuando el dispositivo desciende significativamente.  
3. **Transmisi√≥n Inal√°mbrica**:  
   - Comunicaci√≥n eficiente utilizando el m√≥dulo RF24.  

---

## üìå **C√≥mo Usar**  

1. **Preparar el Hardware**:  
   - Conectar los sensores y el m√≥dulo RF24 al microcontrolador seg√∫n las especificaciones.  
2. **Cargar el C√≥digo**:  
   - Subir el sketch al microcontrolador desde el Arduino IDE.  
3. **Verificar Resultados**:  
   - Monitorear los datos transmitidos mediante un dispositivo receptor.  

---

## ü§ù **Contribuci√≥n**  

Este proyecto est√° abierto a mejoras y sugerencias. Si tienes ideas o encuentras errores, no dudes en crear un [issue](https://github.com/JUANSOTELO1709) o enviar un pull request.  

---

### üñºÔ∏è **Vista Previa del Sistema**  
*Datos transmitidos y monitorizados en consola.*  
![visual](https://github.com/user-attachments/assets/0887719c-3cce-433a-a828-5a42d40822a9)
---

**Autor**: [Juan David Sotelo Rozo](https://github.com/JUANSOTELO1709)  
üìÖ √öltima Actualizaci√≥n: 24 de Diciembre de 2024  
